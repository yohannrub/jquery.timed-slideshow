/*!
 * jQuery Timed Slideshow v@1.1
 * https://github.com/yohannrub/jquery.timed-slideshow
 * Licensed under the MIT license
 */
(function(e){var c={autoPlay:true,duration:5000,transitionDuration:500,transitionEffect:"slide",transitionDirectionSlide:"horizontal",transitionCrossfade:false,transitionStep:1,transitionEasing:null,transitionStartCallback:e.noop,transitionEndCallback:e.noop,sizeSlide:1,startIndex:0,slidesClass:"slideshow-slides",prevClass:"slideshow-prev",nextClass:"slideshow-next",paginationClass:"slideshow-pagination"};var f={active:"active"};var d="slideshow";function b(g,h){var i=g%h;return(i>=0?i:i+h)}var a={init:function(g){g=e.extend({},c,g);return this.each(function(){var p=e(this),j=e.extend({},g);j.isPlaying=false;j.timer=null;j.timeStart=null;j.timePause=null;j.timeRemaining=null;j.transitionRunning=false;j.$slidesUL=p.find("."+j.slidesClass);j.$slidesLI=j.$slidesUL.children();j.$paginationLI=null;j.currentIndex=b(j.startIndex,j.$slidesLI.length);j.lastIndex=(j.transitionEffect=="fade")?j.$slidesLI.length-1:j.$slidesLI.length-j.sizeSlide;var k=p.find("."+j.prevClass),m=p.find("."+j.nextClass),l=p.find("."+j.paginationClass),n=e("<div></div>");n.css({overflow:"hidden"});j.$slidesUL.css({margin:0,padding:0,position:"relative","list-style":"none",overflow:"hidden"});if(j.transitionEffect=="fade"){j.$slidesLI.css({position:"absolute","z-index":0,opacity:0}).eq(j.currentIndex).css({"z-index":1,opacity:1});j.$slidesUL.css({height:Math.max.apply(null,j.$slidesLI.map(function(){return e(this).outerHeight(true)}).get())});if(!j.transitionCrossfade){j.transitionDuration=j.transitionDuration/2}}else{var r=(j.transitionDirectionSlide=="vertical");var o=r?"height":"width";j.transitionSlideCssProperty=r?"top":"left";j.$slidesLI.css({"float":r?"none":"left"});j.slidesLISize=r?j.$slidesLI.outerHeight(true):j.$slidesLI.outerWidth(true);j.$slidesUL.css(o,j.slidesLISize*j.$slidesLI.length).css(j.transitionSlideCssProperty,-j.currentIndex*j.slidesLISize);n.css(o,j.slidesLISize*j.sizeSlide)}j.$slidesLI.eq(j.currentIndex).addClass(f.active);j.$slidesUL.wrap(n);k.on("click",function(){p[d]("slideNext",true)});m.on("click",function(){p[d]("slideNext")});if(l.length){var q=e("<ul></ul>");q.on("click","li",function(){p[d]("slide",e(this).index())});for(var h=0;h<=j.lastIndex;h++){e("<li></li>").appendTo(q)}j.$paginationLI=q.children();j.$paginationLI.eq(j.currentIndex).addClass(f.active);q.appendTo(l)}p.data(d,j);if(j.autoPlay){p[d]("play")}})},slideNext:function(g){return this.each(function(){var j=e(this),i=j.data(d);var h=b(i.currentIndex+(g?-1:1)*i.transitionStep,i.$slidesLI.length);if(h>i.lastIndex){h=(i.currentIndex==i.lastIndex)?0:i.lastIndex}j[d]("slide",h)})},slide:function(g){return this.each(function(){var l=e(this),k=l.data(d);var m=k.currentIndex;g=b(g,k.$slidesLI.length);if(!k.transitionRunning&&m!=g){k.transitionRunning=true;var j=function(){k.transitionRunning=false;k.transitionEndCallback.call(l)};if(k.transitionEffect=="fade"){var i=function(n){return k.$slidesLI.eq([m,g][n]).fadeTo(k.transitionDuration,[0,1][n],k.transitionEasing).css({"z-index":[0,1][n]})};if(k.transitionCrossfade){e.when(i(0),i(1)).done(j)}else{e.when(i(0)).done(function(){e.when(i(1)).done(j)})}}else{if(g>k.lastIndex){g=k.lastIndex}var h={};h[k.transitionSlideCssProperty]=-g*k.slidesLISize;k.$slidesUL.animate(h,k.transitionDuration,k.transitionEasing,j)}k.$slidesLI.removeClass(f.active).eq(g).addClass(f.active);if(k.$paginationLI){k.$paginationLI.removeClass(f.active).eq(g).addClass(f.active)}k.currentIndex=g;k.transitionStartCallback.call(l);l[d]("reset")}})},play:function(){return this.each(function(){var h=e(this),g=h.data(d);if(!g.isPlaying){g.isPlaying=true;clearTimeout(g.timer);g.timeRemaining=(g.timeStart&&g.timePause)?g.timeRemaining-(g.timePause-g.timeStart):g.duration;g.timeStart=e.now();g.timer=setTimeout(function(){h[d]("slideNext")},g.timeRemaining)}})},pause:function(){return this.each(function(){var h=e(this),g=h.data(d);if(g.isPlaying){g.isPlaying=false;clearTimeout(g.timer);g.timePause=e.now()}})},reset:function(){return this.each(function(){var h=e(this),g=h.data(d);h[d]("pause");g.timeStart=g.timePause=null;h[d]("play")})},getCurrentIndex:function(){return this.data(d).currentIndex}};e.fn[d]=function(g){if(a[g]){return a[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return a.init.apply(this,arguments)}else{e.error("Method "+g+" does not exist on jQuery."+d)}}}})(jQuery);