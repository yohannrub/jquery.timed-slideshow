/*!
 * jQuery SVG-PieTimer v@1.1
 * https://github.com/yohannrub/jquery.svg-pietimer
 * Licensed under the MIT license
 */
(function(f){var d={duration:5000,refreshInterval:50,loop:false,loopCallback:f.noop,refreshCallback:f.noop,centerRadius:33,cssClass:"pietimer"};var a={};a.radius=50;a.viewBoxSize=2*a.radius;a.svgPathD="M 0 0 v -"+a.radius+" A "+a.radius+" "+a.radius+" 1 ";var e="pietimer";function c(g,h){var i=g%h;return(i>=0?i:i+h)}var b={init:function(g){g=f.extend({},d,g);var h=['<svg class="'+g.cssClass+'" viewBox="0 0 '+a.viewBoxSize+" "+a.viewBoxSize+'">','<path transform="translate('+a.radius+","+a.radius+')"/>','<circle cx="'+a.radius+'" cy="'+a.radius+'" r="'+g.centerRadius+'"/>',"</svg>"].join("");f(h).appendTo(this);return this.each(function(){var j=f(this),i=f.extend({},g);i.isPlaying=false;i.timerInterval=null;i.timeStart=null;i.timePause=null;i.ratio=0;i.$svgPath=j.find("path");j.data(e,i)})},drawPath:function(g){return this.each(function(){var l=f(this),k=l.data(e);g=c(g,1);var m=g*2*Math.PI,h=Math.sin(m)*a.radius,n=Math.cos(m)*-a.radius,i=(g>0.5)?1:0,j=a.svgPathD+i+" 1 "+h+" "+n+" z";k.ratio=g;k.$svgPath.attr("d",j);k.refreshCallback.call(l)})},draw:function(g){return this.each(function(){var i=f(this),h=i.data(e);g=c(g,1);h.timePause=f.now();h.timeStart=h.timePause-h.duration*g;i[e]("drawPath",g)})},play:function(){return this.each(function(){var h=f(this),g=h.data(e);if(!g.isPlaying){g.isPlaying=true;clearInterval(g.timerInterval);g.timeStart=(g.timeStart&&g.timePause)?f.now()-(g.timePause-g.timeStart):f.now();g.timerInterval=setInterval(function(){var i=(f.now()-g.timeStart)/g.duration;if(i>=1){if(g.loop){g.timeStart=g.timeStart+g.duration*Math.floor(i);g.loopCallback.call(h)}else{h[e]("pause");g.timeStart=g.timePause=null;h[e]("drawPath",0.99999);g.loopCallback.call(h);return}}h[e]("drawPath",i)},g.refreshInterval)}})},pause:function(){return this.each(function(){var h=f(this),g=h.data(e);if(g.isPlaying){g.isPlaying=false;clearInterval(g.timerInterval);g.timePause=f.now()}})},stop:function(){return this.each(function(){var h=f(this),g=h.data(e);h[e]("pause");g.timeStart=g.timePause=null;h[e]("drawPath",0)})},reset:function(){return this.each(function(){var h=f(this),g=h.data(e);h[e]("pause");g.timeStart=g.timePause=null;h[e]("play")})},getCurrentRatio:function(){return this.data(e).ratio}};f.fn[e]=function(g){if(b[g]){return b[g].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof g==="object"||!g){return b.init.apply(this,arguments)}else{f.error("Method "+g+" does not exist on jQuery."+e)}}}})(jQuery);